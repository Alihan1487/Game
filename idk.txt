export EM_CACHE=$PWD/emscripten-cache &&
emcc main.cpp \
-s USE_SDL=2 \
-s USE_SDL_IMAGE=2 \
-s USE_SDL_TTF=2 \
-s USE_SDL_MIXER=2 \
-lidbfs.js \
-s EXPORTED_FUNCTIONS='["_main","_load","_save"]' \
-s EXPORTED_RUNTIME_METHODS='["ccall","cwrap"]' \
-s SDL2_IMAGE_FORMATS='["png"]' \
-s SDL2_MIXER_FORMATS='["wav"]' \
-s FORCE_FILESYSTEM=1 \
--embed-file assets@/assets \
-s INITIAL_MEMORY=64MB \
-s MAXIMUM_MEMORY=256MB \
-s ALLOW_MEMORY_GROWTH=1 \
-o index.html
